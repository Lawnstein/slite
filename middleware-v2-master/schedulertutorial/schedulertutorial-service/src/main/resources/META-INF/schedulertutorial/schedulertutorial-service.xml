<beans xmlns="http://www.springframework.org/schema/beans"
       xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
       xmlns:sofa="http://schema.alipay.com/sofa/schema/slite"
       xmlns:context="http://www.springframework.org/schema/context"
       xsi:schemaLocation="http://www.springframework.org/schema/beans
        http://www.springframework.org/schema/beans/spring-beans-3.0.xsd
        http://schema.alipay.com/sofa/schema/slite http://schema.alipay.com/sofa/slite.xsd http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context.xsd">

    <bean id="sampleService" class="com.antcloud.tutorial.scheduler.service.SampleServiceImpl"/>

    <!-- Publish tr service -->
    <sofa:service interface="com.antcloud.tutorial.scheduler.facade.SampleService"
                  ref="sampleService">
        <sofa:binding.tr/>
    </sofa:service>

    <!-- consumer declaration, the id and group attribute are required and their value must be unique -->
    <sofa:consumer id="uniformEventSubscriber" group="S_schedulertutorial_demo">
        <sofa:listener ref="schedulerDemo"/>
        <sofa:channels>
            <!-- channel value is the involved topic -->
            <sofa:channel value="TP_F_SC">
                <!-- each event represents a subscription -->
                <sofa:event eventType="direct" eventCode="EC_TASK_SCHEDULERTUTORIAL_DEMO" persistence="false"/>
            </sofa:channel>
        </sofa:channels>
        <sofa:binding.msg_broker/>
    </sofa:consumer>

    <!-- messageListener listener bean declaration, implements com.alipay.common.event.UniformEventMessageListener -->
    <bean id="schedulerDemo" class="com.antcloud.tutorial.scheduler.SchedulerDemo"/>

</beans>